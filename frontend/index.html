<!DOCTYPE html>
<!-- Estructura b√°sica de un documento HTML para el juego de b√©isbol tiradados -->
<html lang="es">

<head>
    <meta charset="UTF-8">
    <!-- Hace que el dise√±o sea adaptable en m√≥viles -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de B√©isbol Tiradados</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Enlace a los estilos CSS personalizados -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Contenedor principal del juego -->
    <div id="app">
        <!-- Contenedor del marcador arriba -->
        <div class="marcador-container">
            <div class="marcador-wrapper">
                <table class="marcador-table">
                    <thead>
                        <tr>
                            <th>Equipo</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>R</th>
                            <th>H</th>
                            <th>E</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="team-name">Visitante</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="total-runs">0</td>
                            <td class="total-hits">0</td>
                            <td class="total-errors">0</td>
                        </tr>
                        <tr>
                            <td class="team-name">Local</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="inning-score">0</td>
                            <td class="total-runs">0</td>
                            <td class="total-hits">0</td>
                            <td class="total-errors">0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="marcador-button-container">
                <!-- El bot√≥n se mover√° aqu√≠ din√°micamente -->
            </div>
        </div>

        <!-- Controles de Audio -->
        <div class="audio-controls-container">
            <div class="audio-controls">
                <div class="audio-toggle-wrapper">
                    <span id="audio-icon" class="audio-icon">üîä</span>
                    <label class="audio-switch">
                        <input type="checkbox" id="audio-toggle" checked onchange="AudioSystem.toggleAudio()">
                        <span class="audio-slider"></span>
                    </label>
                </div>
                <div class="volume-controls">
                    <div class="volume-control">
                        <label>üéµ M√∫sica:</label>
                        <input type="range" id="music-volume" min="0" max="100" value="30" oninput="AudioSystem.setMusicVolume(this.value / 100)">
                    </div>
                    <div class="volume-control">
                        <label>üîî Efectos:</label>
                        <input type="range" id="sfx-volume" min="0" max="100" value="50" oninput="AudioSystem.setSfxVolume(this.value / 100)">
                    </div>
                </div>
            </div>
        </div>

        <!-- Estructura de dos columnas laterales para los equipos -->
        <div class="dashboard">
            <!-- Columna izquierda: Equipo visitante -->
            <div class="col col-visitante">
                <div class="team-header">
                    <h2>üõ´ Equipo Visitante</h2>
                    <button class="config-btn" onclick="openTeamConfig('visitante')">‚öôÔ∏è</button>
                </div>

                <!-- Tabla de roster del equipo visitante -->
                <div class="roster-container">
                    <table class="roster-table" id="roster-visitante">
                        <thead>
                            <tr>
                                <th>Handle</th>
                                <th>#</th>
                                <th>Foto</th>
                                <th>Nombre</th>
                                <th>Posici√≥n</th>
                                <th>Mano</th>
                                <th>AVG</th>
                                <th>OBP</th>
                                <th>Traits</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="player-row" draggable="true" data-player-id="1">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">1</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 1</td>
                                <td>
                                    <select class="position-select" data-player="1">
                                        <option value="P" selected>P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="1">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.285</td>
                                <td class="on-base-pct">.340</td>
                                <td>
                                    <select class="trait-select" data-player="1">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">‚öæ</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="2">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">2</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 2</td>
                                <td>
                                    <select class="position-select" data-player="2">
                                        <option value="P">P</option>
                                        <option value="C" selected>C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="2">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.275</td>
                                <td class="on-base-pct">.330</td>
                                <td>
                                    <select class="trait-select" data-player="2">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="3">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">3</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 3</td>
                                <td>
                                    <select class="position-select" data-player="3">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B" selected>1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="3">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.310</td>
                                <td class="on-base-pct">.380</td>
                                <td>
                                    <select class="trait-select" data-player="3">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="4">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">4</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 4</td>
                                <td>
                                    <select class="position-select" data-player="4">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B" selected>2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="4">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.265</td>
                                <td class="on-base-pct">.315</td>
                                <td>
                                    <select class="trait-select" data-player="4">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="5">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">5</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 5</td>
                                <td>
                                    <select class="position-select" data-player="5">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B" selected>3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="5">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.290</td>
                                <td class="on-base-pct">.350</td>
                                <td>
                                    <select class="trait-select" data-player="5">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="6">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">6</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 6</td>
                                <td>
                                    <select class="position-select" data-player="6">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS" selected>SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="6">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.255</td>
                                <td class="on-base-pct">.310</td>
                                <td>
                                    <select class="trait-select" data-player="6">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="7">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">7</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 7</td>
                                <td>
                                    <select class="position-select" data-player="7">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF" selected>LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="7">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.280</td>
                                <td class="on-base-pct">.340</td>
                                <td>
                                    <select class="trait-select" data-player="7">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="8">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">8</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 8</td>
                                <td>
                                    <select class="position-select" data-player="8">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF" selected>CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="8">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.295</td>
                                <td class="on-base-pct">.360</td>
                                <td>
                                    <select class="trait-select" data-player="8">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="9">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">9</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 9</td>
                                <td>
                                    <select class="position-select" data-player="9">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF" selected>RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="9">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.270</td>
                                <td class="on-base-pct">.325</td>
                                <td>
                                    <select class="trait-select" data-player="9">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- BANQUILLO EQUIPO VISITANTE -->
                <div class="bench-container" id="bench-visitante" style="margin-top: 1rem; background: rgba(30,30,50,0.5); border-radius: 8px; padding: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <h4 style="color: #fbbf24; margin: 0; font-size: 1rem;">ü™ë Banquillo</h4>
                        <div>
                            <button onclick="toggleBench('visitante')" style="background: #374151; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 4px; cursor: pointer; margin-right: 0.5rem;">üëÅÔ∏è</button>
                            <button onclick="addBenchPlayer('visitante')" style="background: #059669; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 4px; cursor: pointer; font-weight: bold;">+ A√±adir</button>
                        </div>
                    </div>
                    <table class="roster-table bench-table" id="bench-table-visitante" style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Handle</th>
                                <th>#</th>
                                <th>Foto</th>
                                <th>Nombre</th>
                                <th>Posici√≥n</th>
                                <th>Mano</th>
                                <th>AVG</th>
                                <th>OBP</th>
                                <th>Traits</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="player-row" draggable="true" data-player-id="10">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">10</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador 10</td>
                                <td>
                                    <select class="position-select" data-player="10">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH" selected>DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="10">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.305</td>
                                <td class="on-base-pct">.375</td>
                                <td>
                                    <select class="trait-select" data-player="10">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">ü™ë</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="11">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">11</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Pitcher Alt</td>
                                <td>
                                    <select class="position-select" data-player="11">
                                        <option value="P" selected>P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="11">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.180</td>
                                <td class="on-base-pct">.220</td>
                                <td>
                                    <select class="trait-select" data-player="11">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">ü™ë</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- CONTENEDOR DE DADOS CON OVERLAY DE INTENCIONES -->
                <div class="dice-layers-container" style="position: relative; min-height: 400px;">
                    <!-- CAPA SUPERIOR: SELECTOR DE INTENCIONES DEL BATEADOR (OVERLAY) -->
                    <div id="intention-container-visitante" class="dynamic-dice-container intention-selector card shadow-lg mb-4" style="display: block; opacity: 1;">
                        <div class="card-body">
                            <div class="text-center mb-3">
                                <h5 class="card-title text-white mb-1">
                                    <i class="fas fa-bullseye me-2"></i>üéØ ¬øCu√°l es tu intenci√≥n?
                                </h5>
                                <p class="card-text text-white-50 mb-0">Selecciona la estrategia del bateador</p>
                            </div>
                            <div class="row g-3">
                                <div class="col-6">
                                    <button class="btn intention-btn normal-hit w-100 py-3" onclick="selectIntention('normal')" id="intention-normal">
                                        <div class="d-flex flex-column align-items-center">
                                            <span class="fs-4 mb-1">‚öæ</span>
                                            <span class="fw-bold">Batear Normal</span>
                                        </div>
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn intention-btn steal-base w-100 py-3" onclick="selectIntention('steal')" id="intention-steal">
                                        <div class="d-flex flex-column align-items-center">
                                            <span class="fs-4 mb-1">üèÉ‚Äç‚ôÇÔ∏è</span>
                                            <span class="fw-bold">Robar Base</span>
                                        </div>
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn intention-btn bunt w-100 py-3" onclick="selectIntention('bunt')" id="intention-bunt">
                                        <div class="d-flex flex-column align-items-center">
                                            <span class="fs-4 mb-1">ü§è</span>
                                            <span class="fw-bold">Toque/Bunt</span>
                                        </div>
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn intention-btn hit-run w-100 py-3" onclick="selectIntention('hitrun')" id="intention-hitrun">
                                        <div class="d-flex flex-column align-items-center">
                                            <span class="fs-4 mb-1">‚ö°</span>
                                            <span class="fw-bold">Hit & Run</span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CAPA INFERIOR: Contenedor din√°mico para sistema de dados -->
                    <div id="dice-container-visitante" class="dynamic-dice-container" style="display: none;">
                        <div class="dice-system">
                            <div class="dice-action-area">
                                <div class="dice-action-header">
                                    <div class="current-batter-info" id="current-batter-info">
                                        <span class="batter-name">Bateador Actual</span>
                                        <span class="batter-stats">AVG: .000</span>
                                    </div>
                                    <div class="result-confirmation" id="result-confirmation" style="display: none;">
                                        <button class="confirm-result-btn" onclick="confirmResult('visitante')" id="confirm-btn">
                                        ‚úì Confirmar
                                    </button>
                                    </div>
                                </div>
                                <div class="pitch-die-display">
                                    <span class="pitch-die-label">Pitch Die:</span>
                                    <span class="pitch-die-value" id="pitch-die-local">d12</span>
                                </div>
                                <div class="dice-controls">
                                    <!-- Dados visuales lado a lado -->
                                    <div class="dice-display">
                                        <div class="dice-item">
                                            <div class="dice-label">LANZADOR</div>
                                            <div class="dice-visual" id="pitcher-dice">
                                                <select class="dice-type-selector" id="pitcher-dice-type" onchange="updatePitcherDiceRange('visitante')">
                                                <option value="20">D20</option>
                                                <option value="12" selected>D12</option>
                                                <option value="8">D8</option>
                                                <option value="4">D4</option>
                                                <option value="-4">-D4</option>
                                                <option value="-8">-D8</option>
                                                <option value="-12">-D12</option>
                                                <option value="-20">-D20</option>
                                            </select>
                                                <input type="number" class="dice-value-input" id="pitcher-dice-value" placeholder="-" min="-20" max="20">
                                                <div class="mini-dice" onclick="rollPitcherDice('visitante')" title="Tirar dado del lanzador">üé≤</div>
                                            </div>
                                        </div>
                                        <div class="dice-operator">+</div>
                                        <div class="dice-item">
                                            <div class="dice-label">BATEADOR</div>
                                            <div class="dice-visual" id="batter-dice">
                                                <span class="dice-type">D100</span>
                                                <input type="number" class="dice-value-input" id="batter-dice-value" placeholder="-" min="1" max="100">
                                                <div class="mini-dice" onclick="rollBatterDice('visitante')" title="Tirar dado del bateador">üé≤</div>
                                            </div>
                                        </div>
                                        <div class="dice-operator">=</div>
                                        <div class="dice-item result">
                                            <div class="dice-label">RESULTADO</div>
                                            <div class="dice-visual result" id="total-result">
                                                <span class="dice-value" id="final-result">-</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="result-section">
                                        <div class="result-description" id="result-description">
                                            Esperando tirada...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Cierre del dice-layers-container -->
            </div>
            <!-- Fin columna visitante -->

            <!-- Columna central: terreno de juego y sistema de dados -->
            <div class="col col-central">

                <!-- Bot√≥n de iniciar juego encima del estadio -->

                <!-- SWING RESULT TABLE -->
                <div id="swing-result-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #fbbf24;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">
                                <span id="batter-name-display" class="text-warning">--</span><small class="text-warning"> (BT:<span id="bt-value">--</span> | OBT:<span id="obt-value">--</span>)</small> <span class="text-dark">- SWING RESULT TABLE</span>
                            </h5>
                            <table class="table table-dark table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>MSS</th>
                                        <th>Event</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-mss="1" data-result="oddity">
                                        <td><strong>1</strong></td>
                                        <td><strong>Oddity</strong></td>
                                        <td>Roll 2d10 on Oddities Table.</td>
                                    </tr>
                                    <tr data-mss="2-5" data-result="criticalhit">
                                        <td><strong>2-5</strong></td>
                                        <td><strong>Critical Hit</strong></td>
                                        <td>Roll d20 on Hit Table. Increase hit by one level‚Äîsingle to double, etc. double to triple, etc.</td>
                                    </tr>
                                    <tr data-mss="6-BT" data-result="ordinaryhit">
                                        <td><strong>6-BT</strong></td>
                                        <td><strong>Ordinary Hit</strong></td>
                                        <td>Roll d20 on Hit Table.</td>
                                    </tr>
                                    <tr data-mss="BT+1-OBT" data-result="walk">
                                        <td><strong>BT+1-OBT</strong></td>
                                        <td><strong>Walk</strong></td>
                                        <td>Batter advances to first.</td>
                                    </tr>
                                    <tr data-mss="OBT+1-OBT+5" data-result="possibleerror">
                                        <td><strong>OBT+1-OBT+5</strong></td>
                                        <td><strong>Possible Error</strong></td>
                                        <td>Roll d12 on Defense Table for fielder making the play.</td>
                                    </tr>
                                    <tr data-mss="OBT+6-49" data-result="productiveout1">
                                        <td><strong>OBT+6-49</strong></td>
                                        <td><strong>Productive Out</strong></td>
                                        <td>On a ball in the outfield or to the right of the infield, runners at second and third advance. On a ball anywhere in the infield, a runner at first advances to second and the batter is out.</td>
                                    </tr>
                                    <tr data-mss="50-69" data-result="productiveout2">
                                        <td><strong>50-69</strong></td>
                                        <td><strong>Productive Out</strong></td>
                                        <td>On a ball in outfield or to the right of infield, runners at second and third score. On a ball anywhere in the infield, a runner at first is out and the batter is safe at first on a fielder's choice.</td>
                                    </tr>
                                    <tr data-mss="70+" data-result="out">
                                        <td><strong>70+</strong></td>
                                        <td><strong>Out</strong></td>
                                        <td>Runners at second and third advance on fly ball. On a ball anywhere in the infield, both the runner at first and the batter are out.</td>
                                    </tr>
                                    <tr data-mss="99" data-result="oddity99">
                                        <td><strong>99</strong></td>
                                        <td><strong>Oddity</strong></td>
                                        <td>Roll 2d10 on Oddities Table.</td>
                                    </tr>
                                    <tr data-mss="100+" data-result="out100">
                                        <td><strong>100+</strong></td>
                                        <td><strong>Out</strong></td>
                                        <td>Runners cannot advance on fly ball. Possible triple play.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeSwingResultTable()">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HIT TABLE (D20) -->
                <div id="hit-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #10b981;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">
                                ‚öæ HIT TABLE (D20)
                            </h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D20</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D20</span>
                                        <input type="number" class="dice-value-input" id="hit-d20-value" placeholder="-" min="1" max="20" readonly>
                                        <div class="mini-dice" onclick="rollHitD20()" title="Tirar D20">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">Roll</th>
                                        <th style="width: 40%;">Result</th>
                                        <th style="width: 40%;">You Write</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-hit="1-2">
                                        <td><strong>1-2</strong></td>
                                        <td>Single</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="3">
                                        <td><strong>3</strong></td>
                                        <td>Single, DEF (1B)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="4">
                                        <td><strong>4</strong></td>
                                        <td>Single, DEF (2B)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="5">
                                        <td><strong>5</strong></td>
                                        <td>Single, DEF (3B)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="6">
                                        <td><strong>6</strong></td>
                                        <td>Single, DEF (SS)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="7-9">
                                        <td><strong>7-9</strong></td>
                                        <td>Single</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="10-14">
                                        <td><strong>10-14</strong></td>
                                        <td>Single, runners adv. 2</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="15">
                                        <td><strong>15</strong></td>
                                        <td>Double, DEF (LF)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="16">
                                        <td><strong>16</strong></td>
                                        <td>Double, DEF (CF)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="17">
                                        <td><strong>17</strong></td>
                                        <td>Double, DEF (RF)</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="18">
                                        <td><strong>18</strong></td>
                                        <td>Double, runners adv. 3</td>
                                        <td></td>
                                    </tr>
                                    <tr data-hit="19-20">
                                        <td><strong>19-20</strong></td>
                                        <td>Home Run</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="hit-result-display" class="text-center mb-3" style="display: none; padding: 10px; background: rgba(16, 185, 129, 0.2); border-radius: 6px; color: white; font-size: 1.1rem;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeHitTable()" id="hit-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DEFENSE TABLE (D12) -->
                <div id="defense-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #f59e0b;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">
                                üõ°Ô∏è DEFENSE TABLE (D12) - <span id="defense-position-label">Position</span>
                            </h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D12</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D12</span>
                                        <input type="number" class="dice-value-input" id="defense-d12-value" placeholder="-" min="1" max="12" readonly>
                                        <div class="mini-dice" onclick="rollDefenseD12()" title="Tirar D12">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">Roll</th>
                                        <th style="width: 80%;">Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-defense="1-2">
                                        <td><strong>1-2</strong></td>
                                        <td>Error. Runners take an extra base.</td>
                                    </tr>
                                    <tr data-defense="3-9">
                                        <td><strong>3-9</strong></td>
                                        <td>No change</td>
                                    </tr>
                                    <tr data-defense="10-11">
                                        <td><strong>10-11</strong></td>
                                        <td>Double turns into a single, runners advance 2.</td>
                                    </tr>
                                    <tr data-defense="12">
                                        <td><strong>12</strong></td>
                                        <td>Hit turned into out. Runners hold.</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="defense-result-display" class="text-center mb-3" style="display: none; padding: 10px; background: rgba(245, 158, 11, 0.2); border-radius: 6px; color: white; font-size: 1.1rem;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeDefenseTable()" id="defense-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- OUT TABLE (Referencia para posici√≥n defensiva) -->
                <div id="out-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #ef4444;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">
                                üö´ OUT TABLE - √öltimo d√≠gito MSS: <span id="out-last-digit">-</span>
                            </h5>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 25%;">Last Digit</th>
                                        <th style="width: 40%;">Result</th>
                                        <th style="width: 35%;">You Write</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-out="0">
                                        <td><strong>0</strong></td>
                                        <td>Strikeout</td>
                                        <td>(K)</td>
                                    </tr>
                                    <tr data-out="1">
                                        <td><strong>1</strong></td>
                                        <td>Strikeout</td>
                                        <td>(K)</td>
                                    </tr>
                                    <tr data-out="2">
                                        <td><strong>2</strong></td>
                                        <td>Strikeout</td>
                                        <td>(K)</td>
                                    </tr>
                                    <tr data-out="3">
                                        <td><strong>3</strong></td>
                                        <td>Groundball to 1B</td>
                                        <td>(G-3)</td>
                                    </tr>
                                    <tr data-out="4">
                                        <td><strong>4</strong></td>
                                        <td>Groundball to 2B</td>
                                        <td>(4-3)</td>
                                    </tr>
                                    <tr data-out="5">
                                        <td><strong>5</strong></td>
                                        <td>Groundball to 3B</td>
                                        <td>(5-3)</td>
                                    </tr>
                                    <tr data-out="6">
                                        <td><strong>6</strong></td>
                                        <td>Groundball to SS</td>
                                        <td>(6-3)</td>
                                    </tr>
                                    <tr data-out="7">
                                        <td><strong>7</strong></td>
                                        <td>Pop-up to LF</td>
                                        <td>(F-7)</td>
                                    </tr>
                                    <tr data-out="8">
                                        <td><strong>8</strong></td>
                                        <td>Pop-up to CF</td>
                                        <td>(F-8)</td>
                                    </tr>
                                    <tr data-out="9">
                                        <td><strong>9</strong></td>
                                        <td>Pop-up to RF</td>
                                        <td>(F-9)</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="out-result-display" class="text-center mb-3" style="display: none; padding: 10px; background: rgba(239, 68, 68, 0.2); border-radius: 6px; color: white; font-size: 1.1rem;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-danger" onclick="closeOutTable()" id="out-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bot√≥n principal de control (centro) -->
                <div class="start-game-container">
                    <button id="start-game-btn" class="start-game-btn" onclick="startNewGame()">
                        üéÆ Iniciar Nuevo Juego
                    </button>
                </div>

                <!-- Bot√≥n de reset (esquina superior derecha) -->
                <button id="reset-game-btn" class="reset-game-btn-corner" onclick="confirmResetGame()" style="display: none;">
                    üîÑ
                </button>

                <!-- ===== SISTEMA DE TOKENS VISUALES EN EL DIAMANTE ===== -->
                <!-- 
                    PROP√ìSITO: Mostrar visualmente los corredores en las bases sobre el diamante
                    FUNCIONALIDAD: Tokens se mueven con animaciones entre bases seg√∫n las jugadas
                    INTEGRACI√ìN: Sincronizado con gameState.bases para mostrar estado actual
                    RESPONSIVE: Se adapta al tama√±o de la imagen del estadio
                -->
                <div class="diamond-container">
                    <img src="imagenes/zelaia.jpg" alt="Terreno de juego de b√©isbol" class="terreno-img">

                    <!-- Capa superpuesta para tokens de corredores -->
                    <div class="diamond-tokens-layer">
                        <!-- Posiciones fijas de las bases para referencia -->
                        <div class="base-marker" data-base="home" title="Home Plate"></div>
                        <div class="base-marker" data-base="first" title="Primera Base"></div>
                        <div class="base-marker" data-base="second" title="Segunda Base"></div>
                        <div class="base-marker" data-base="third" title="Tercera Base"></div>

                        <!-- Los tokens de corredores se a√±adir√°n din√°micamente aqu√≠ -->
                        <div id="runners-container" class="runners-container">
                            <!-- Los tokens de jugadores aparecer√°n aqu√≠ mediante JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Controles del juego (solo bot√≥n de reiniciar) -->
                <div class="game-controls">
                    <button id="reset-game-btn" class="reset-game-btn" onclick="resetGame()" style="display: none;">
                        üîÑ Reiniciar Juego
                    </button>
                </div>

                <!-- √ÅREA DE RESOLUCI√ìN DE JUGADAS - Ocupa todo el espacio azul -->
                <div id="plays-resolution-area" style="
                    width: 100%;
                    max-height: 400px;
                    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #1e3a8a 100%);
                    border-radius: 12px;
                    padding: 12px;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 2px 8px rgba(255, 255, 255, 0.1);
                    border: 2px solid rgba(59, 130, 246, 0.5);
                    margin-top: 15px;
                    overflow-y: auto;
                ">
                    <!-- Header del √°rea de jugadas -->
                    <div style="text-align: center; margin-bottom: 10px;">
                        <h3 style="color: #fbbf24; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); font-size: 1.3rem;">
                            üé≤ Resoluci√≥n de Jugada
                        </h3>
                        <div id="play-status" style="color: #93c5fd; margin-top: 4px; font-size: 0.9rem; font-weight: 500;">
                            ‚ö° Sistema activo - Esperando tirada...
                        </div>
                    </div>

                    <!-- Contenedor donde aparecer√°n todas las tablas de cascada -->
                    <div id="cascade-tables-container" style="
                        display: flex;
                        flex-direction: column;
                        gap: 8px;
                        width: 100%;
                    ">
                        <!-- Las tablas ser√°n movidas aqu√≠ por JavaScript al cargar la p√°gina -->
                    </div>

                    <!-- SELECTOR DE TIPO DE ROBO -->
                    <div id="steal-type-selector" style="display: none; text-align: center; padding: 12px;">
                        <h4 style="color: #fbbf24; margin-bottom: 12px; font-size: 1.1rem;">üèÉ‚Äç‚ôÇÔ∏è Selecciona Tipo de Robo</h4>
                        <div style="display: flex; gap: 12px; justify-content: center;">
                            <button id="single-steal-btn" onclick="selectStealType('single')" style="
                                background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                                color: white;
                                border: none;
                                padding: 12px 24px;
                                border-radius: 8px;
                                font-size: 1rem;
                                font-weight: bold;
                                cursor: pointer;
                                box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
                                transition: all 0.3s;
                            " onmouseover="if(!this.disabled) this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                üèÉ‚Äç‚ôÇÔ∏è Single Steal
                            </button>
                            <button id="double-steal-btn" onclick="selectStealType('double')" style="
                                background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
                                color: white;
                                border: none;
                                padding: 12px 24px;
                                border-radius: 8px;
                                font-size: 1rem;
                                font-weight: bold;
                                cursor: pointer;
                                box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
                                transition: all 0.3s;
                            " onmouseover="if(!this.disabled) this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                üèÉ‚Äç‚ôÇÔ∏èüèÉ‚Äç‚ôÇÔ∏è Double Steal
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ODDITIES TABLE -->
                <div id="oddities-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #8b5cf6;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üé≤ ODDITIES TABLE (2d10)</h5>

                            <!-- Sistema de dados 2d10 -->
                            <div class="dice-display mb-4">
                                <div class="dice-item">
                                    <div class="dice-label">DADO 1 (D10)</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D10</span>
                                        <input type="number" class="dice-value-input" id="oddity-dice1-value" placeholder="-" min="1" max="10">
                                        <div class="mini-dice" onclick="rollOddityDice1()" title="Tirar dado 1">üé≤</div>
                                    </div>
                                </div>
                                <div class="dice-operator">+</div>
                                <div class="dice-item">
                                    <div class="dice-label">DADO 2 (D10)</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D10</span>
                                        <input type="number" class="dice-value-input" id="oddity-dice2-value" placeholder="-" min="1" max="10">
                                        <div class="mini-dice" onclick="rollOddityDice2()" title="Tirar dado 2">üé≤</div>
                                    </div>
                                </div>
                                <div class="dice-operator">=</div>
                                <div class="dice-item result">
                                    <div class="dice-label">RESULTADO</div>
                                    <div class="dice-visual result">
                                        <span class="dice-value" id="oddity-result-value">-</span>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 10%;">Result</th>
                                        <th style="width: 25%;">Oddity</th>
                                        <th style="width: 65%;">Effect</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-oddity="2">
                                        <td><strong>2</strong></td>
                                        <td><strong>Fan Interference</strong></td>
                                        <td>Even PD: Home run overturned. Batter out. Odd PD: Fan catches a sure out. At-bat continues.</td>
                                    </tr>
                                    <tr data-oddity="3">
                                        <td><strong>3</strong></td>
                                        <td><strong>Animal On Field</strong></td>
                                        <td>Roll d4: 1: Seagull steals pitcher's hat. Reduce PD by 1 for this inning. 2: Raccoon bites fielder who completed the out. Treat that fielder as B7 for rest of game. 3: Black cat spooks home team. Reduce B7/OBT by
                                            5 for one inning. 4: Streaker inspires crowd. Increase home pitcher's PD by 1.</td>
                                    </tr>
                                    <tr data-oddity="4">
                                        <td><strong>4</strong></td>
                                        <td><strong>Rain Delay</strong></td>
                                        <td>Delay lasts d100"+2 minutes.</td>
                                    </tr>
                                    <tr data-oddity="5">
                                        <td><strong>5</strong></td>
                                        <td><strong>Fielder Appears Injured</strong></td>
                                        <td>Roll on Injury table for fielder who made last out.</td>
                                    </tr>
                                    <tr data-oddity="6">
                                        <td><strong>6</strong></td>
                                        <td><strong>Pitcher Appears Injured</strong></td>
                                        <td>Roll on Injury table for pitcher.</td>
                                    </tr>
                                    <tr data-oddity="7">
                                        <td><strong>7</strong></td>
                                        <td><strong>TOOTBLAN</strong></td>
                                        <td>Lead runner thrown out on the basepaths like a nincompoop. If no runner on base, batter tagged out.</td>
                                    </tr>
                                    <tr data-oddity="8">
                                        <td><strong>8</strong></td>
                                        <td><strong>Pick-Off</strong></td>
                                        <td>Runner at first picked off. If no runner at first, treat catcher as D+ for this at-bat attempt.</td>
                                    </tr>
                                    <tr data-oddity="9">
                                        <td><strong>9</strong></td>
                                        <td><strong>Call Blown at First</strong></td>
                                        <td>If PD is even, batter is wrongly called safe. If PD is odd, batter wrongly called out. Disregard that call and the result takes place in an era that employs video replay.</td>
                                    </tr>
                                    <tr data-oddity="10">
                                        <td><strong>10</strong></td>
                                        <td><strong>Call Blown at Home Plate</strong></td>
                                        <td>If PD is even, batter draws a walk on a pitch that should have been a strike. If PD is odd, batter called out on a pitch that should have been a ball.</td>
                                    </tr>
                                    <tr data-oddity="11">
                                        <td><strong>11</strong></td>
                                        <td><strong>Hit by Pitch</strong></td>
                                        <td>Batter goes to first.</td>
                                    </tr>
                                    <tr data-oddity="12">
                                        <td><strong>12</strong></td>
                                        <td><strong>Wild Pitch</strong></td>
                                        <td>All runners advance one base.</td>
                                    </tr>
                                    <tr data-oddity="13">
                                        <td><strong>13</strong></td>
                                        <td><strong>Batter Distracted</strong></td>
                                        <td>Add 1 to any defensive value for this at-bat.</td>
                                    </tr>
                                    <tr data-oddity="14">
                                        <td><strong>14</strong></td>
                                        <td><strong>Dropped Third Strike</strong></td>
                                        <td>Roll d8 for stolen base. If roll is successful, batter reaches first.</td>
                                    </tr>
                                    <tr data-oddity="15">
                                        <td><strong>15</strong></td>
                                        <td><strong>Passed Ball</strong></td>
                                        <td>All runners advance one base.</td>
                                    </tr>
                                    <tr data-oddity="16">
                                        <td><strong>16</strong></td>
                                        <td><strong>Current Batter Appears Injured</strong></td>
                                        <td>Roll on Injury table for current batter.</td>
                                    </tr>
                                    <tr data-oddity="17">
                                        <td><strong>17</strong></td>
                                        <td><strong>Previous Batter Appears Injured</strong></td>
                                        <td>Roll on Injury table for previous batter.</td>
                                    </tr>
                                    <tr data-oddity="18">
                                        <td><strong>18</strong></td>
                                        <td><strong>Pitcher Error</strong></td>
                                        <td>Batter reaches first. All runners advance one base.</td>
                                    </tr>
                                    <tr data-oddity="19">
                                        <td><strong>19</strong></td>
                                        <td><strong>Balk</strong></td>
                                        <td>All runners advance one base.</td>
                                    </tr>
                                    <tr data-oddity="20">
                                        <td><strong>20</strong></td>
                                        <td><strong>Catcher Interference</strong></td>
                                        <td>Batter goes to first.</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="oddity-result-display" class="text-center mb-3" style="display: none; padding: 10px; background: rgba(139, 92, 246, 0.2); border-radius: 6px; color: white; font-size: 1.1rem;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeOdditiesTable()" id="oddity-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BUNTING TABLE (D6) -->
                <div id="bunting-table-container" class="result-table-inline" style="display: none; margin-bottom: 20px; animation: slideDown 0.3s ease-out;">
                    <div class="card shadow-lg" style="border: 2px solid #f59e0b;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">‚öæ BUNTING (D6)</h5>

                            <!-- Sistema de dado D6 -->
                            <div class="dice-display mb-3">
                                <div class="dice-item">
                                    <div class="dice-label">TOQUE (D6)</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D6</span>
                                        <input type="number" class="dice-value-input" id="bunting-dice-value" placeholder="-" min="1" max="6">
                                        <div class="mini-dice" onclick="rollBuntingD6()" title="Tirar D6">üé≤</div>
                                    </div>
                                </div>
                                <div class="dice-operator">=</div>
                                <div class="dice-item result">
                                    <div class="dice-label">RESULTADO</div>
                                    <div class="dice-visual result">
                                        <span class="dice-value" id="bunting-result-value">-</span>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm" style="font-size: 0.85rem;">
                                <thead>
                                    <tr>
                                        <th style="width: 15%;">Roll</th>
                                        <th style="width: 35%;">Situation</th>
                                        <th style="width: 50%;">Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-bunt="1-2">
                                        <td><strong>1-2</strong></td>
                                        <td>All batters</td>
                                        <td>Lead runner out, batter safe</td>
                                    </tr>
                                    <tr data-bunt="3">
                                        <td><strong>3</strong></td>
                                        <td>Lead runner at 1st or 2nd<br>Lead runner at 3rd</td>
                                        <td>Lead runner advances, batter out<br>Lead runner out, batter safe</td>
                                    </tr>
                                    <tr data-bunt="4-5">
                                        <td><strong>4-5</strong></td>
                                        <td>All batters</td>
                                        <td>Lead runner advances, batter out</td>
                                    </tr>
                                    <tr data-bunt="6">
                                        <td><strong>6</strong></td>
                                        <td>5+ hitter batting<br>All other batters</td>
                                        <td>Single, DEF (3B)<br>Lead runner advances, batter out</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="bunting-result-display" class="text-center mb-2" style="display: none; padding: 8px; background: rgba(245, 158, 11, 0.2); border-radius: 6px; color: white; font-size: 1rem;">
                            </div>

                            <div class="text-center mt-2">
                                <button class="btn btn-success btn-sm" onclick="closeBuntingTable()" id="bunting-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MINI-TIRADOR D4 (Animal On Field) -->
                <div id="d4-mini-roller-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 500px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üê¶ ANIMAL ON FIELD (D4)</h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D4</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D4</span>
                                        <input type="number" class="dice-value-input" id="d4-value" placeholder="-" min="1" max="4" readonly>
                                        <div class="mini-dice" onclick="rollD4()" title="Tirar D4">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <div id="d4-result-text" class="text-white text-center mb-3" style="font-size: 1.1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;">
                                <strong id="d4-animal-name"></strong>
                                <p id="d4-animal-effect" style="margin-top: 0.5rem;"></p>
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeD4Roller()" id="d4-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MINI-TIRADOR D100 (Rain Delay) -->
                <div id="d100-mini-roller-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 500px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üåßÔ∏è RAIN DELAY (D100)</h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D100</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D100</span>
                                        <input type="number" class="dice-value-input" id="d100-value" placeholder="-" min="1" max="100" readonly>
                                        <div class="mini-dice" onclick="rollD100ForRain()" title="Tirar D100">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <div id="d100-result-text" class="text-white text-center mb-3" style="font-size: 1.3rem; padding: 1.5rem; background: rgba(100,149,237,0.3); border-radius: 8px; display: none;">
                                <strong>‚è±Ô∏è Retraso: <span id="d100-delay-minutes">-</span> minutos</strong>
                                <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">El juego se reanudar√° tras el retraso</p>
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeD100Roller()" id="d100-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BASE STEALING TABLE (D8) -->
                <div id="base-steal-table-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 600px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üèÉ BASE STEALING (D8)</h5>
                            <p class="text-center text-white mb-3"><span id="base-steal-context"></span></p>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D8</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D8</span>
                                        <input type="number" class="dice-value-input" id="base-steal-d8-value" placeholder="-" min="1" max="8" readonly>
                                        <div class="mini-dice" onclick="rollBaseStealD8()" title="Tirar D8">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 30%;">Roll (D8)</th>
                                        <th style="width: 70%;">Result</th>
                                    </tr>
                                </thead>
                                <tbody id="base-steal-table-body">
                                    <!-- Se llenar√° din√°micamente seg√∫n el contexto -->
                                </tbody>
                            </table>

                            <div id="base-steal-result" class="text-white text-center mb-3" style="font-size: 1.1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeBaseStealTable()" id="base-steal-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INJURY SEVERITY TABLE (D100) -->
                <div id="injury-severity-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 700px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üè• INJURY SEVERITY (D100)</h5>
                            <p class="text-center text-white mb-3">Jugador lesionado: <strong id="injured-player-name">-</strong></p>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D100</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D100</span>
                                        <input type="number" class="dice-value-input" id="injury-severity-d100-value" placeholder="-" min="1" max="100" readonly>
                                        <div class="mini-dice" onclick="rollInjurySeverity()" title="Tirar D100">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">Roll</th>
                                        <th style="width: 80%;">Severity</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-severity="1">
                                        <td><strong>1</strong></td>
                                        <td><strong>Catastrophic.</strong> Player out for season. Roll on catastrophic injury table.</td>
                                    </tr>
                                    <tr data-severity="2-5">
                                        <td><strong>2-5</strong></td>
                                        <td><strong>Major.</strong> Player out for 2d20 games.</td>
                                    </tr>
                                    <tr data-severity="6-10">
                                        <td><strong>6-10</strong></td>
                                        <td><strong>Minor.</strong> Player out for d8 games.</td>
                                    </tr>
                                    <tr data-severity="11-75">
                                        <td><strong>11-75</strong></td>
                                        <td><strong>Superficial.</strong> Player plays with BT reduced by 5 or PD reduced by 1 for d6 games. Bonus traits are nullified.</td>
                                    </tr>
                                    <tr data-severity="76-100">
                                        <td><strong>76-100</strong></td>
                                        <td><strong>Player is unhurt</strong></td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="injury-severity-result" class="text-white text-center mb-3" style="font-size: 1.1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="proceedAfterSeverity()" id="injury-severity-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INJURY LOCATION TABLE (D20) -->
                <div id="injury-location-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10001; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 700px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üéØ INJURY LOCATION (D20)</h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D20</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D20</span>
                                        <input type="number" class="dice-value-input" id="injury-location-d20-value" placeholder="-" min="1" max="20" readonly>
                                        <div class="mini-dice" onclick="rollInjuryLocation()" title="Tirar D20">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">Roll</th>
                                        <th style="width: 80%;">Location</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-location="1">
                                        <td><strong>1</strong></td>
                                        <td>Head</td>
                                    </tr>
                                    <tr data-location="2-5">
                                        <td><strong>2-5</strong></td>
                                        <td>Shoulder</td>
                                    </tr>
                                    <tr data-location="6-9">
                                        <td><strong>6-9</strong></td>
                                        <td>Elbow</td>
                                    </tr>
                                    <tr data-location="10">
                                        <td><strong>10</strong></td>
                                        <td>Forearm</td>
                                    </tr>
                                    <tr data-location="11">
                                        <td><strong>11</strong></td>
                                        <td>Wrist</td>
                                    </tr>
                                    <tr data-location="12">
                                        <td><strong>12</strong></td>
                                        <td>Hand</td>
                                    </tr>
                                    <tr data-location="13-14">
                                        <td><strong>13-14</strong></td>
                                        <td>Back</td>
                                    </tr>
                                    <tr data-location="15">
                                        <td><strong>15</strong></td>
                                        <td>Oblique</td>
                                    </tr>
                                    <tr data-location="16">
                                        <td><strong>16</strong></td>
                                        <td>Hip</td>
                                    </tr>
                                    <tr data-location="17">
                                        <td><strong>17</strong></td>
                                        <td>Hamstring</td>
                                    </tr>
                                    <tr data-location="18">
                                        <td><strong>18</strong></td>
                                        <td>Knee</td>
                                    </tr>
                                    <tr data-location="19">
                                        <td><strong>19</strong></td>
                                        <td>Ankle</td>
                                    </tr>
                                    <tr data-location="20">
                                        <td><strong>20</strong></td>
                                        <td>Foot</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="injury-location-result" class="text-white text-center mb-3" style="font-size: 1.1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-success" onclick="closeInjurySystem()" id="injury-location-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CATASTROPHIC INJURY TABLE (D6) -->
                <div id="catastrophic-injury-container" class="result-table-container" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10002; overflow-y: auto; padding: 20px;">
                    <div class="card shadow-lg" style="max-width: 700px; margin: 2rem auto;">
                        <div class="card-body">
                            <h5 class="card-title text-center text-white mb-3">üíÄ CATASTROPHIC INJURY (D6)</h5>

                            <div class="dice-display mb-4" style="justify-content: center;">
                                <div class="dice-item">
                                    <div class="dice-label">D6</div>
                                    <div class="dice-visual">
                                        <span class="dice-type">D6</span>
                                        <input type="number" class="dice-value-input" id="catastrophic-d6-value" placeholder="-" min="1" max="6" readonly>
                                        <div class="mini-dice" onclick="rollCatastrophicInjury()" title="Tirar D6">üé≤</div>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-dark table-striped table-bordered table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">Roll</th>
                                        <th style="width: 80%;">Catastrophic Effect</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-catastrophic="1">
                                        <td><strong>1</strong></td>
                                        <td><strong>Modern:</strong> Player retires. <strong>Ancient, head injuries only:</strong> Player dies.</td>
                                    </tr>
                                    <tr data-catastrophic="2-6">
                                        <td><strong>2-6</strong></td>
                                        <td>Permanently reduce BT by d10+2 or PD by 1.</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div id="catastrophic-result" class="text-white text-center mb-3" style="font-size: 1.1rem; padding: 1rem; background: rgba(255,0,0,0.3); border-radius: 8px; display: none;">
                            </div>

                            <div class="text-center mt-3">
                                <button class="btn btn-danger" onclick="closeInjurySystem()" id="catastrophic-continue-btn" style="display: none;">‚úì Continuar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna derecha: Equipo local -->
            <div class="col col-local">
                <div class="team-header">
                    <h2>üè† Equipo Local</h2>
                    <button class="config-btn" onclick="openTeamConfig('local')">‚öôÔ∏è</button>
                </div>

                <!-- Tabla de roster del equipo local -->
                <div class="roster-container">
                    <table class="roster-table" id="roster-local">
                        <thead>
                            <tr>
                                <th>Handle</th>
                                <th>#</th>
                                <th>Foto</th>
                                <th>Nombre</th>
                                <th>Posici√≥n</th>
                                <th>Mano</th>
                                <th>AVG</th>
                                <th>OBP</th>
                                <th>Traits</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="player-row" draggable="true" data-player-id="l1">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">1</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L1</td>
                                <td>
                                    <select class="position-select" data-player="l1">
                                        <option value="P" selected>P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l1">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.265</td>
                                <td class="on-base-pct">.320</td>
                                <td>
                                    <select class="trait-select" data-player="l1">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l2">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">2</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L2</td>
                                <td>
                                    <select class="position-select" data-player="l2">
                                        <option value="P">P</option>
                                        <option value="C" selected>C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l2">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.280</td>
                                <td class="on-base-pct">.335</td>
                                <td>
                                    <select class="trait-select" data-player="l2">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l3">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">3</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L3</td>
                                <td>
                                    <select class="position-select" data-player="l3">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B" selected>1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l3">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.285</td>
                                <td class="on-base-pct">.345</td>
                                <td>
                                    <select class="trait-select" data-player="l3">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l4">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">4</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L4</td>
                                <td>
                                    <select class="position-select" data-player="l4">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B" selected>2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l4">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.275</td>
                                <td class="on-base-pct">.330</td>
                                <td>
                                    <select class="trait-select" data-player="l4">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l5">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">5</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L5</td>
                                <td>
                                    <select class="position-select" data-player="l5">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B" selected>3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l5">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.298</td>
                                <td class="on-base-pct">.365</td>
                                <td>
                                    <select class="trait-select" data-player="l5">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l6">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">6</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L6</td>
                                <td>
                                    <select class="position-select" data-player="l6">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS" selected>SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l6">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.260</td>
                                <td class="on-base-pct">.315</td>
                                <td>
                                    <select class="trait-select" data-player="l6">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l7">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">7</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L7</td>
                                <td>
                                    <select class="position-select" data-player="l7">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF" selected>LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l7">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.288</td>
                                <td class="on-base-pct">.350</td>
                                <td>
                                    <select class="trait-select" data-player="l7">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l8">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">8</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L8</td>
                                <td>
                                    <select class="position-select" data-player="l8">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF" selected>CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l8">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.302</td>
                                <td class="on-base-pct">.370</td>
                                <td>
                                    <select class="trait-select" data-player="l8">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l9">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">9</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L9</td>
                                <td>
                                    <select class="position-select" data-player="l9">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF" selected>RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l9">
                                        <option value="R" selected>R</option>
                                        <option value="L">L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.278</td>
                                <td class="on-base-pct">.335</td>
                                <td>
                                    <select class="trait-select" data-player="l9">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- BANQUILLO EQUIPO LOCAL -->
                <div class="bench-container" id="bench-local" style="margin-top: 1rem; background: rgba(30,30,50,0.5); border-radius: 8px; padding: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <h4 style="color: #fbbf24; margin: 0; font-size: 1rem;">ü™ë Banquillo</h4>
                        <div>
                            <button onclick="toggleBench('local')" style="background: #374151; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 4px; cursor: pointer; margin-right: 0.5rem;">üëÅÔ∏è</button>
                            <button onclick="addBenchPlayer('local')" style="background: #059669; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 4px; cursor: pointer; font-weight: bold;">+ A√±adir</button>
                        </div>
                    </div>
                    <table class="roster-table bench-table" id="bench-table-local" style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Handle</th>
                                <th>#</th>
                                <th>Foto</th>
                                <th>Nombre</th>
                                <th>Posici√≥n</th>
                                <th>Mano</th>
                                <th>AVG</th>
                                <th>OBP</th>
                                <th>Traits</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="player-row" draggable="true" data-player-id="l10">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">10</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Jugador L10</td>
                                <td>
                                    <select class="position-select" data-player="l10">
                                        <option value="P">P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH" selected>DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l10">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.312</td>
                                <td class="on-base-pct">.385</td>
                                <td>
                                    <select class="trait-select" data-player="l10">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">ü™ë</td>
                            </tr>
                            <tr class="player-row" draggable="true" data-player-id="l11">
                                <td class="drag-handle">‚ãÆ‚ãÆ</td>
                                <td class="player-number">11</td>
                                <td class="player-photo">üì∑</td>
                                <td class="player-name">Pitcher Alt</td>
                                <td>
                                    <select class="position-select" data-player="l11">
                                        <option value="P" selected>P</option>
                                        <option value="C">C</option>
                                        <option value="1B">1B</option>
                                        <option value="2B">2B</option>
                                        <option value="3B">3B</option>
                                        <option value="SS">SS</option>
                                        <option value="LF">LF</option>
                                        <option value="CF">CF</option>
                                        <option value="RF">RF</option>
                                        <option value="DH">DH</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="handedness-select" data-player="l11">
                                        <option value="R">R</option>
                                        <option value="L" selected>L</option>
                                    </select>
                                </td>
                                <td class="batting-avg">.165</td>
                                <td class="on-base-pct">.210</td>
                                <td>
                                    <select class="trait-select" data-player="l11">
                                        <option value="" selected>-</option>
                                        <option value="P+">P+</option>
                                        <option value="P++">P++</option>
                                        <option value="C+">C+</option>
                                        <option value="S+">S+</option>
                                        <option value="D+">D+</option>
                                        <option value="T+">T+</option>
                                        <option value="P-">P-</option>
                                        <option value="P--">P--</option>
                                        <option value="C">C</option>
                                        <option value="S-">S-</option>
                                        <option value="D-">D-</option>
                                        <option value="K+">K+</option>
                                        <option value="GB+">GB+</option>
                                        <option value="CN+">CN+</option>
                                        <option value="ST+">ST+</option>
                                        <option value="CN-">CN-</option>
                                    </select>
                                </td>
                                <td class="game-status">ü™ë</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Contenedor din√°mico para sistema de dados -->
                <div id="dice-container-local" class="dynamic-dice-container" style="display: none;">
                    <div class="dice-system">
                        <div class="dice-action-area">
                            <div class="dice-action-header">
                                <div class="current-batter-info" id="current-batter-info-local">
                                    <span class="batter-name">Bateador Actual</span>
                                    <span class="batter-stats">AVG: .000</span>
                                </div>
                                <div class="result-confirmation" id="result-confirmation-local" style="display: none;">
                                    <button class="confirm-result-btn" onclick="confirmResult('local')" id="confirm-btn-local">
                                        ‚úì Confirmar
                                    </button>
                                </div>
                            </div>
                            <div class="pitch-die-display">
                                <span class="pitch-die-label">Pitch Die:</span>
                                <span class="pitch-die-value" id="pitch-die-visitante">d12</span>
                            </div>
                            <div class="dice-controls">
                                <!-- Dados visuales lado a lado -->
                                <div class="dice-display">
                                    <div class="dice-item">
                                        <div class="dice-label">LANZADOR</div>
                                        <div class="dice-visual" id="pitcher-dice-local">
                                            <select class="dice-type-selector" id="pitcher-dice-type-local" onchange="updatePitcherDiceRange('local')">
                                                <option value="20">D20</option>
                                                <option value="12" selected>D12</option>
                                                <option value="8">D8</option>
                                                <option value="4">D4</option>
                                                <option value="-4">-D4</option>
                                                <option value="-8">-D8</option>
                                                <option value="-12">-D12</option>
                                                <option value="-20">-D20</option>
                                            </select>
                                            <input type="number" class="dice-value-input" id="pitcher-dice-value-local" placeholder="-" min="-20" max="20">
                                            <div class="mini-dice" onclick="rollPitcherDice('local')" title="Tirar dado del lanzador">üé≤</div>
                                        </div>
                                    </div>
                                    <div class="dice-operator">+</div>
                                    <div class="dice-item">
                                        <div class="dice-label">BATEADOR</div>
                                        <div class="dice-visual" id="batter-dice-local">
                                            <span class="dice-type">D100</span>
                                            <input type="number" class="dice-value-input" id="batter-dice-value-local" placeholder="-" min="1" max="100">
                                            <div class="mini-dice" onclick="rollBatterDice('local')" title="Tirar dado del bateador">üé≤</div>
                                        </div>
                                    </div>
                                    <div class="dice-operator">=</div>
                                    <div class="dice-item result">
                                        <div class="dice-label">RESULTADO</div>
                                        <div class="dice-visual result" id="total-result-local">
                                            <span class="dice-value" id="final-result-local">-</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="result-section">
                                    <div class="result-description" id="result-description-local">
                                        Esperando tirada...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal de configuraci√≥n de equipos -->
    <div class="modal-overlay" id="team-config-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">‚öôÔ∏è Configurar Equipo</h3>
                <button class="modal-close" onclick="closeTeamConfig()">‚úï</button>
            </div>

            <div class="modal-body">
                <!-- Importar desde MLB -->
                <div class="config-section">
                    <label for="mlb-team-selector">üîó Importar desde MLB (2024):</label>
                    <div style="display: flex; gap: 10px;">
                        <select id="mlb-team-selector" style="flex: 1;">
                            <option value="">Seleccionar equipo MLB...</option>
                            <option value="147">New York Yankees</option>
                            <option value="119">Los Angeles Dodgers</option>
                            <option value="111">Boston Red Sox</option>
                            <option value="137">San Francisco Giants</option>
                            <option value="145">Chicago White Sox</option>
                            <option value="116">Detroit Tigers</option>
                            <option value="117">Houston Astros</option>
                            <option value="133">Oakland Athletics</option>
                            <option value="136">Seattle Mariners</option>
                            <option value="140">Texas Rangers</option>
                            <option value="108">Los Angeles Angels</option>
                            <option value="109">Arizona Diamondbacks</option>
                            <option value="112">Chicago Cubs</option>
                            <option value="113">Cincinnati Reds</option>
                            <option value="114">Cleveland Guardians</option>
                            <option value="115">Colorado Rockies</option>
                            <option value="118">Kansas City Royals</option>
                            <option value="120">Washington Nationals</option>
                            <option value="121">New York Mets</option>
                            <option value="133">Oakland Athletics</option>
                            <option value="134">Pittsburgh Pirates</option>
                            <option value="135">San Diego Padres</option>
                            <option value="138">St. Louis Cardinals</option>
                            <option value="139">Tampa Bay Rays</option>
                            <option value="141">Toronto Blue Jays</option>
                            <option value="142">Minnesota Twins</option>
                            <option value="143">Philadelphia Phillies</option>
                            <option value="144">Atlanta Braves</option>
                            <option value="146">Miami Marlins</option>
                            <option value="158">Milwaukee Brewers</option>
                        </select>
                        <button class="btn-primary" onclick="importMLBTeam()" style="white-space: nowrap;">
                            üì• Importar
                        </button>
                    </div>
                    <div id="import-status" style="margin-top: 8px; font-size: 12px; color: #60a5fa;"></div>
                </div>

                <!-- Selector de equipos predefinidos -->
                <div class="config-section">
                    <label for="preset-teams">Equipos Predefinidos:</label>
                    <select id="preset-teams" onchange="loadPresetTeam()">
                        <option value="">Seleccionar equipo...</option>
                        <option value="yankees">New York Yankees</option>
                        <option value="dodgers">Los Angeles Dodgers</option>
                        <option value="red_sox">Boston Red Sox</option>
                        <option value="giants">San Francisco Giants</option>
                        <option value="custom">Personalizado</option>
                    </select>
                </div>

                <!-- Editor de equipo -->
                <div class="config-section">
                    <label for="team-name">Nombre del Equipo:</label>
                    <input type="text" id="team-name" placeholder="Nombre del equipo">
                </div>

                <!-- Lista de jugadores para editar -->
                <div class="config-section">
                    <h4>Jugadores del Equipo:</h4>
                    <div class="players-editor" id="players-editor">
                        <!-- Se llenar√° din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeTeamConfig()">Cancelar</button>
                <button class="btn-primary" onclick="saveTeamConfig()">Guardar Equipo</button>
            </div>
        </div>
    </div>

    <!-- HOME RUN OVERLAY -->
    <div id="home-run-overlay">‚öæ HOME RUN! ‚öæ</div>

    <!-- PANEL DE TESTING/DESARROLLO -->
    <div id="testing-panel" style="position: fixed; bottom: 10px; right: 10px; z-index: 999999999;">
        <button id="testing-panel-btn" onclick="toggleTestingPanel()" style="background: #8b5cf6; color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 28px; cursor: pointer; box-shadow: 0 4px 12px rgba(139, 92, 246, 0.5); transition: all 0.3s;"
            onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
            üß™
        </button>

        <div id="testing-panel-content" style="display: none; position: absolute; bottom: 70px; right: 0; background: rgba(20, 20, 40, 0.98); border: 2px solid #8b5cf6; border-radius: 12px; padding: 20px; width: 350px; max-height: 600px; overflow-y: auto; box-shadow: 0 8px 16px rgba(0,0,0,0.5);">
            <h4 style="color: #8b5cf6; margin: 0 0 15px 0; font-size: 18px;">üß™ Panel de Pruebas</h4>

            <div style="margin-bottom: 15px;">
                <button onclick="testAllOddities()" style="width: 100%; background: #059669; color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-weight: bold; margin-bottom: 10px;">
                    ‚ñ∂Ô∏è Mostrar Tabla Oddities
                </button>
            </div>

            <div style="margin-bottom: 15px; padding: 10px; background: rgba(59, 130, 246, 0.2); border-radius: 8px;">
                <h5 style="color: #3b82f6; margin: 0 0 10px 0; font-size: 14px;">‚öæ Probar Resultados</h5>
                <button onclick="testHomeRun()" style="width: 100%; background: #fbbf24; color: black; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-weight: bold; margin-bottom: 5px;">
                    üéÜ Test Home Run
                </button>
                <button onclick="testSingle()" style="width: 100%; background: #10b981; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer; margin-bottom: 5px;">
                    ‚öæ Test Single
                </button>
                <button onclick="testDouble()" style="width: 100%; background: #10b981; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer; margin-bottom: 5px;">
                    ‚öæ‚öæ Test Double
                </button>
                <button onclick="testStrikeout()" style="width: 100%; background: #ef4444; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer; margin-bottom: 5px;">
                    üö´ Test Strikeout
                </button>
                <button onclick="testGroundball()" style="width: 100%; background: #f97316; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer; margin-bottom: 5px;">
                    ‚öæ Test Groundball
                </button>
                <button onclick="testFlyball()" style="width: 100%; background: #8b5cf6; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer; margin-bottom: 5px;">
                    üéà Test Fly Ball
                </button>
                <button onclick="testBunting()" style="width: 100%; background: #f59e0b; color: white; border: none; padding: 6px; border-radius: 6px; cursor: pointer;">
                    ü§è Test Bunting
                </button>
            </div>

            <div style="color: white; font-size: 12px; margin-bottom: 10px; padding: 8px; background: rgba(139, 92, 246, 0.2); border-radius: 6px;">
                <strong>üìù Nota:</strong> Haz clic en cualquier n√∫mero para probar ese efecto espec√≠fico
            </div>

            <details style="margin-bottom: 10px;">
                <summary style="color: #8b5cf6; cursor: pointer; font-weight: bold; margin-bottom: 8px;">üìä PD & B√°sicas (2, 7-12, 15, 18-20)</summary>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; padding: 8px;">
                    <button onclick="testOddity(2)" class="test-btn">2-Fan</button>
                    <button onclick="testOddity(7)" class="test-btn">7-TOOT</button>
                    <button onclick="testOddity(8)" class="test-btn">8-Pick</button>
                    <button onclick="testOddity(9)" class="test-btn">9-Call1st</button>
                    <button onclick="testOddity(10)" class="test-btn">10-CallH</button>
                    <button onclick="testOddity(11)" class="test-btn">11-HBP</button>
                    <button onclick="testOddity(12)" class="test-btn">12-Wild</button>
                    <button onclick="testOddity(15)" class="test-btn">15-Pass</button>
                    <button onclick="testOddity(18)" class="test-btn">18-Error</button>
                    <button onclick="testOddity(19)" class="test-btn">19-Balk</button>
                    <button onclick="testOddity(20)" class="test-btn">20-Catch</button>
                </div>
            </details>

            <details style="margin-bottom: 10px;">
                <summary style="color: #fbbf24; cursor: pointer; font-weight: bold; margin-bottom: 8px;">üé≤ Mini-Tiradores (3, 4, 13, 14)</summary>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 5px; padding: 8px;">
                    <button onclick="testOddity(3)" class="test-btn" style="background: #f59e0b;">3-Animal</button>
                    <button onclick="testOddity(4)" class="test-btn" style="background: #3b82f6;">4-Rain</button>
                    <button onclick="testOddity(13)" class="test-btn" style="background: #8b5cf6;">13-Distr</button>
                    <button onclick="testOddity(14)" class="test-btn" style="background: #06b6d4;">14-Drop3</button>
                </div>
            </details>

            <details style="margin-bottom: 10px;">
                <summary style="color: #ef4444; cursor: pointer; font-weight: bold; margin-bottom: 8px;">üè• Injury Tables (5, 6, 16, 17)</summary>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 5px; padding: 8px;">
                    <button onclick="testOddity(5)" class="test-btn" style="background: #dc2626;">5-Field</button>
                    <button onclick="testOddity(6)" class="test-btn" style="background: #dc2626;">6-Pitch</button>
                    <button onclick="testOddity(16)" class="test-btn" style="background: #dc2626;">16-CurrBat</button>
                    <button onclick="testOddity(17)" class="test-btn" style="background: #dc2626;">17-PrevBat</button>
                </div>
            </details>

            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(139, 92, 246, 0.3);">
                <button onclick="showD4Roller()" style="width: 100%; background: #f59e0b; color: white; border: none; padding: 6px; border-radius: 4px; cursor: pointer; margin-bottom: 5px; font-size: 12px;">
                    üê¶ Test D4 Animal
                </button>
                <button onclick="showD100Roller()" style="width: 100%; background: #3b82f6; color: white; border: none; padding: 6px; border-radius: 4px; cursor: pointer; margin-bottom: 5px; font-size: 12px;">
                    üåßÔ∏è Test D100 Rain
                </button>
                <button onclick="showBaseStealTable('dropped-third-strike')" style="width: 100%; background: #06b6d4; color: white; border: none; padding: 6px; border-radius: 4px; cursor: pointer; margin-bottom: 5px; font-size: 12px;">
                    üèÉ Test D8 Steal
                </button>
                <button onclick="showInjuryTable('batter', 'current')" style="width: 100%; background: #dc2626; color: white; border: none; padding: 6px; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    üè• Test Injury System
                </button>
            </div>

            <div style="margin-top: 15px; font-size: 11px; color: rgba(255,255,255,0.6); text-align: center;">
                v2.0 - Sistema Completo de Oddities
            </div>
        </div>
    </div>

    <style>
        .test-btn {
            background: #059669;
            color: white;
            border: none;
            padding: 6px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .test-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        #testing-panel-content::-webkit-scrollbar {
            width: 8px;
        }
        
        #testing-panel-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        
        #testing-panel-content::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 4px;
        }
        /* Animaciones para cascada inline y tokens */
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes tokenPop {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
                opacity: 0.5;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes tokenScore {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.3);
            }
            100% {
                transform: translateY(-100px) scale(0.5);
                opacity: 0;
            }
        }
        
        @keyframes tokenMove {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }
        
        .result-table-inline {
            animation: slideDown 0.4s ease-out;
        }
        
        .token-popping {
            animation: tokenPop 0.6s ease-out forwards;
        }
        
        .token-scoring {
            animation: tokenScore 0.8s ease-out forwards;
        }
        
        .token-moving {
            animation: tokenMove 2s ease-in-out;
            transition: all 2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        /* Transiciones suaves para tokens con aceleraci√≥n progresiva */
        
        .runner-token {
            transition: all 2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        /* Animaci√≥n de confeti para Home Run */
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            z-index: 10000;
            animation: confetti-fall 3s linear;
            pointer-events: none;
        }
        /* Animaci√≥n del token corriendo las bases */
        
        @keyframes homeRunPath {
            0% {
                transform: translate(0, 0) scale(1);
            }
            25% {
                transform: translate(100px, -100px) scale(1.2);
            }
            50% {
                transform: translate(200px, 0) scale(1.2);
            }
            75% {
                transform: translate(100px, 100px) scale(1.2);
            }
            100% {
                transform: translate(0, 0) scale(1.5);
                opacity: 0;
            }
        }
        
        .home-run-runner {
            animation: homeRunPath 3s ease-in-out forwards;
        }
        /* Overlay de HOME RUN */
        
        #home-run-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem;
            font-weight: bold;
            color: #fbbf24;
            text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.8);
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            display: none;
        }
        
        @keyframes homeRunPulse {
            0%,
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
        }
    </style>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <!-- Sistema de audio -->
    <script src="audio_system.js"></script>

    <!-- Enlazamos el archivo de JavaScript personalizado -->
    <script src="script_new.js?v=2"></script>
</body>

</html>